<!DOCTYPE html>
<html lang="es" ng-app="simopuveApp" >
    <head>
        <title>SIMOPUVE - Monitoreo encuestadores</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">

        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-aria.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-messages.min.js"></script>

        <!-- Angular Material Library -->
        <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
        <script src="js/app.js"></script>
        <script src="js/monitor.js"></script>
        <script src="js/map.js"></script>
        <style>
            /* Always set the map height explicitly to define the size of the div
             * element that contains the map. */
            #map {
                height: 700px;
            }
            /* Optional: Makes the sample page fill the window. */
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
    <body>    
        <div ng-controller="MonitorCtrl as ctrl" ng-cloak >
            <md-content>
                <md-toolbar class="md-hue-2">
                    <div class="md-toolbar-tools">

                        <h2 flex md-truncate>SIMOPUVE - Monitoreo</h2>
                    </div>

                </md-toolbar>
                <div layout-padding>

                    <h4>En el mapa se muestran en tiempo real las ubicaciones de los encuestadores</h4>
                </div>


                <div  ng-show="showLoadingIndicator" layout="row" layout-sm="column" layout-align="space-around">
                    <md-progress-circular md-mode="indeterminate" md-diameter="110"></md-progress-circular>
                </div>          
                <div ng-app="simopuveApp" ng-controller="MonitorCtrl">  
                    

                    <div layout-gt-sm="row" layout="column">
                        <div flex-gt-sm="50" flex>
                            <md-toolbar layout="row" class="md-hue-3">
                                <div class="md-toolbar-tools">
                                    <span>Ubicaci√≥n de encuestadores</span>
                                </div>
                            </md-toolbar>

                            <md-content>
                                <md-list flex>

                                    <md-list-item class="md-3-line" ng-repeat="marker in markers"  >

                                        <div class="md-list-item-text" layout="column">

                                            <p><a href="#" ng-click="openInfoWindow($event, marker)">{{marker.title}}</a></p>
                                        </div>
                                    </md-list-item>

                                </md-list>
                            </md-content>
                            <div ng-show="!showLoadingIndicator" layout-gt-xs="row" layout-align="center center" layout-padding>
                                <md-button class="md-raised md-primary" ng-click="generateReports();">Comenzar monitoreo</md-button>
                            </div> 

                        </div>

                        <md-divider></md-divider>

                        <div flex-gt-sm="50" flex>

                            <div id="map"></div> 
                        </div>
                    </div>

                </div>

            </md-content>


        </div>


        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB56xrI9lSN-pwGU3QLdpCPaZq9asjoKYk"></script>
    </body>
</html>
